<!DOCTYPE html>
<html>
<head>
    <title>App Test</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { 
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f7fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        .status {
            padding: 12px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .error { background: #ffebee; border-left: 4px solid #f44336; color: #c62828; }
        .success { background: #e8f5e9; border-left: 4px solid #4caf50; color: #2e7d32; }
        .info { background: #e3f2fd; border-left: 4px solid #2196f3; color: #1565c0; }
        .warning { background: #fff8e1; border-left: 4px solid #ffc107; color: #ef6c00; }
        button {
            background: #1976d2;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        button:hover { background: #1565c0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>App Test</h1>
        <div id="status" class="status info">
            <strong>Status:</strong> Initializing...
        </div>
        
        <div id="results"></div>
        
        <button onclick="loadAppScript()">Load App Script</button>
        <button onclick="testAppFunctionality()">Test App Functionality</button>
        <button onclick="simulateFullApp()">Simulate Full App</button>
    </div>

    <script>
        function addResult(message, type = 'info') {
            const resultsDiv = document.getElementById('results');
            const resultElement = document.createElement('div');
            resultElement.className = `status ${type}`;
            resultElement.innerHTML = `<strong>${type.toUpperCase()}:</strong> ${message}`;
            resultsDiv.appendChild(resultElement);
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '';
        }
        
        function updateStatus(message, type = 'info') {
            const statusDiv = document.getElementById('status');
            statusDiv.className = `status ${type}`;
            statusDiv.innerHTML = `<strong>Status:</strong> ${message}`;
        }
        
        function loadAppScript() {
            clearResults();
            updateStatus('Loading app script...', 'info');
            addResult('Attempting to load app script...', 'info');
            
            // Try to load the main app script
            const scriptPath = './assets/index-BuvGzYBQ.js';
            addResult(`Trying to load: ${scriptPath}`, 'info');
            
            const script = document.createElement('script');
            script.src = scriptPath;
            script.type = 'module';
            
            script.onload = function() {
                addResult('App script loaded successfully', 'success');
                updateStatus('App script loaded', 'success');
            };
            
            script.onerror = function(e) {
                addResult(`Failed to load app script: ${e.message}`, 'error');
                updateStatus('Failed to load app script', 'error');
            };
            
            document.head.appendChild(script);
        }
        
        function testAppFunctionality() {
            clearResults();
            updateStatus('Testing app functionality...', 'info');
            addResult('Starting app functionality tests...', 'info');
            
            // Test if React is available
            if (typeof React !== 'undefined') {
                addResult('React is available', 'success');
            } else {
                addResult('React is NOT available', 'warning');
            }
            
            // Test if ReactDOM is available
            if (typeof ReactDOM !== 'undefined') {
                addResult('ReactDOM is available', 'success');
            } else {
                addResult('ReactDOM is NOT available', 'warning');
            }
            
            // Test if the main app component might be available
            // This is a bit tricky since it's bundled, but we can check for global exports
            const possibleGlobals = Object.keys(window).filter(key => 
                key.includes('App') || key.includes('apti') || key.includes('Apti')
            );
            
            if (possibleGlobals.length > 0) {
                addResult(`Found possible app globals: ${possibleGlobals.join(', ')}`, 'info');
            } else {
                addResult('No obvious app globals found', 'info');
            }
            
            updateStatus('App functionality tests completed', 'info');
        }
        
        function simulateFullApp() {
            clearResults();
            updateStatus('Simulating full app...', 'info');
            addResult('Starting full app simulation...', 'info');
            
            try {
                // Clear the root element
                const rootElement = document.getElementById('root');
                if (rootElement) {
                    rootElement.innerHTML = '';
                    
                    // Create a comprehensive test UI similar to your app
                    const appDiv = document.createElement('div');
                    appDiv.style.cssText = `
                        min-height: 100vh;
                        background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
                        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
                    `;
                    appDiv.innerHTML = `
                        <div style="max-width: 1200px; margin: 0 auto; padding: 20px;">
                            <header style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; background: #1976d2; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                            A
                                        </div>
                                        <h1 style="margin: 0; color: #1a237e;">AptiLume</h1>
                                    </div>
                                    <nav>
                                        <button style="background: #1976d2; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; margin-left: 10px;">
                                            Sign In
                                        </button>
                                    </nav>
                                </div>
                            </header>
                            
                            <main>
                                <section style="background: white; border-radius: 12px; padding: 40px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px;">
                                    <h2 style="color: #1a237e; font-size: 2.5rem; margin-bottom: 20px;">
                                        Master Your <span style="color: #1976d2;">Aptitude</span>
                                    </h2>
                                    <p style="color: #6c757d; font-size: 1.2rem; max-width: 600px; margin: 0 auto 30px;">
                                        Experience next-generation aptitude testing with AI-powered questions, real-time proctoring, and comprehensive analytics.
                                    </p>
                                    <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                                        <button style="background: #1976d2; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 1.1rem; font-weight: 500;">
                                            Start Free Test
                                        </button>
                                        <button style="background: white; color: #1976d2; border: 2px solid #1976d2; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 1.1rem; font-weight: 500;">
                                            Sign Up Now
                                        </button>
                                    </div>
                                </section>
                                
                                <section style="background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                                    <h3 style="color: #1a237e; text-align: center; margin-bottom: 20px;">Key Features</h3>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                        <div style="text-align: center; padding: 20px;">
                                            <div style="font-size: 2rem; margin-bottom: 15px;">ðŸ§ </div>
                                            <h4 style="color: #1a237e; margin-bottom: 10px;">AI-Powered Questions</h4>
                                            <p style="color: #6c757d;">Adaptive testing that adjusts to your skill level</p>
                                        </div>
                                        <div style="text-align: center; padding: 20px;">
                                            <div style="font-size: 2rem; margin-bottom: 15px;">ðŸ”’</div>
                                            <h4 style="color: #1a237e; margin-bottom: 10px;">Secure Proctoring</h4>
                                            <p style="color: #6c757d;">Real-time monitoring to ensure test integrity</p>
                                        </div>
                                        <div style="text-align: center; padding: 20px;">
                                            <div style="font-size: 2rem; margin-bottom: 15px;">ðŸ“Š</div>
                                            <h4 style="color: #1a237e; margin-bottom: 10px;">Detailed Analytics</h4>
                                            <p style="color: #6c757d;">Comprehensive performance insights</p>
                                        </div>
                                    </div>
                                </section>
                            </main>
                            
                            <footer style="text-align: center; padding: 20px; color: #6c757d; margin-top: 20px;">
                                <p>Â© 2025 AptiLume. All rights reserved.</p>
                            </footer>
                        </div>
                    `;
                    
                    rootElement.appendChild(appDiv);
                    addResult('Successfully simulated full app UI', 'success');
                    updateStatus('Full app simulation successful', 'success');
                } else {
                    addResult('Cannot simulate app - root element not found', 'error');
                    updateStatus('Simulation failed', 'error');
                }
            } catch (e) {
                addResult(`Error during simulation: ${e.message}`, 'error');
                updateStatus('Simulation failed', 'error');
            }
        }
        
        // Global error handlers
        window.addEventListener('error', function(e) {
            addResult(`Global error: ${e.message} at ${e.filename}:${e.lineno}`, 'error');
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            addResult(`Unhandled promise rejection: ${e.reason}`, 'error');
        });
        
        // Initialize
        window.addEventListener('DOMContentLoaded', function() {
            updateStatus('App test page loaded successfully', 'success');
            addResult('Page loaded successfully', 'success');
        });
    </script>
</body>
</html>